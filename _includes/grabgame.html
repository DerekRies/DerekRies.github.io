<canvas id="c" height="600" width="600"></canvas>
<script>
	var b = document.body;
	var c = document.getElementsByTagName('canvas')[0];
	var a = c.getContext('2d');
	document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218
</script>
<script>
eval('c.width=c.height=600;a.fillStyle="rgba(0,0,0,.3)";var e,f,h,j,k,l,m,p,q,r,s,t;w="strokeStyle";M=Math;W="#0AF";_y(){l=!0;j=`;k=`;p=m=300;r=q=0;s=-1.57;t=[]}_z(d){a.lineWidth=6;a[w]=d;a.stroke();a.lineWidth=2;a[w]="#FFF";a.stroke();a.beginPath();}y();setInterval(_(){a.fillRect(0,0,600,600);if(l){e&&(q+=0.5*M.cos(s),r+=0.5*M.sin(s));f&&(s-=0.05);h&&(s+=0.05);20>M.abs(m-j)&&20>M.abs(p-k)&&(j=`,k=`,t.push(`,`));m+=q;p+=r;q*=0.9;r*=0.9;a.translate(m,p);a.rotate(s+1.57);a.beginPath();a.moveTo(-10,10);a.lineTo(0,-15);a.lineTo(10,10);z(W);a.setTransform(1,0,0,1,0,0);a.arc(j,k,10,0,2*M.PI);z(W);for(i=0;i<t.length;i+=2){d=m-t[i],v=p-t[i+1],x=M.sqrt(d*d+v*v);20>x&&y();d=M.atan2(v,d);t[i]+=50*M.cos(d)/x;t[i+1]+=50*M.sin(d)/x;a.arc(t[i],t[i+1],10,0,2*M.PI);z("#F00")}}},16)~down",_(d){o=d.keyCode;87==o&&(e=!0);68==o&&(h=!0);65==o&&(f=!0)})~up",_(d){o=d.keyCode;87==o&&(e=!1);68==o&&(h=!1);65==o&&(f=!1)});'.replace(/_/g,'function ').replace(/~/g,';b.addEventListener("key').replace(/`/g,'600*M.random()|0'));
</script>